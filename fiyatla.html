<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Usta AI - FiyatlandÄ±rma</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #e74c3c, #e67e22);
            color: white;
            padding: 25px 20px;
            text-align: center;
        }

        .header h1 {
            font-size: 1.4em;
            margin-bottom: 5px;
        }

        .screen {
            display: none;
            padding: 20px;
            min-height: 400px;
        }

        .screen.active {
            display: block;
        }

        .product-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 20px;
        }

        .product-btn {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border: none;
            padding: 15px 8px;
            border-radius: 12px;
            font-size: 0.95em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .product-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .product-btn.selected {
            background: linear-gradient(135deg, #e74c3c, #e67e22);
        }

        .option-grid {
            display: grid;
            gap: 10px;
            margin-top: 20px;
        }

        .option-btn {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            padding: 15px;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .option-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }

        .option-btn.selected {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border-color: #3498db;
        }

        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .checkbox-option:hover {
            background: #f1f3f4;
        }

        .checkbox-option.selected {
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            border-color: #3498db;
        }

        .checkbox-option input {
            width: 18px;
            height: 18px;
        }

        .text-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1em;
            margin-top: 10px;
            font-family: inherit;
        }

        .number-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1.2em;
            font-weight: 600;
            text-align: center;
        }

        .dimension-input {
            width: 100%;
            padding: 15px;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            text-align: center;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            gap: 10px;
        }

        .nav-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }

        .back-btn {
            background: #7f8c8d;
            color: white;
        }

        .next-btn {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .nav-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }

        .home-btn {
            background: linear-gradient(135deg, #f39c12, #d35400);
            color: white;
            border: none;
            padding: 12px;
            border-radius: 10px;
            font-size: 0.9em;
            font-weight: 600;
            cursor: pointer;
            margin-bottom: 10px;
            width: 100%;
            transition: all 0.3s ease;
        }

        .home-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }

        .whatsapp-btn {
            background: linear-gradient(135deg, #25D366, #128C7E);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 12px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            text-align: center;
            width: 100%;
            margin-top: 20px;
            transition: all 0.3s ease;
        }

        .whatsapp-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.2);
        }

        .section-title {
            color: #2c3e50;
            margin: 20px 0 10px 0;
            font-size: 1.1em;
            border-left: 4px solid #e74c3c;
            padding-left: 10px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .dimension-unit {
            position: relative;
        }

        .dimension-unit::after {
            content: "cm";
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: #666;
            font-weight: 600;
        }

        .warning-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .warning-icon {
            font-size: 4em;
            margin-bottom: 20px;
        }

        .warning-text {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            font-size: 1.1em;
            line-height: 1.6;
            color: #856404;
        }

        .countdown {
            font-size: 1.3em;
            font-weight: bold;
            color: #e74c3c;
            margin-top: 20px;
        }

        .summary-item {
            margin-bottom: 8px;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .summary-item:last-child {
            border-bottom: none;
        }

        .photo-reminder {
            background: #e7f3ff;
            border: 2px solid #b3d9ff;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
        }

        .photo-reminder strong {
            color: #0066cc;
            display: block;
            margin-bottom: 8px;
        }

        .alert-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .alert-btn {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .alert-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 10px rgba(0,0,0,0.1);
        }

        .alert-cancel {
            background: #7f8c8d;
            color: white;
        }

        .alert-confirm {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
        }

        .ai-footer {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            font-style: italic;
            font-weight: 800;
            text-transform: uppercase;
            font-size: 0.85em;
            color: #2c3e50;
            border: 2px solid #e9ecef;
        }

        .price-range {
            background: linear-gradient(135deg, #27ae60, #2ecc71);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            margin: 20px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }

        .price-range h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .price-amount {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .price-note {
            font-size: 0.9em;
            opacity: 0.9;
            margin-top: 10px;
        }

        .architect-note {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            text-align: center;
            font-size: 0.9em;
            line-height: 1.5;
            color: #856404;
            font-weight: 800;
            font-style: italic;
        }

        .premium-note {
            background: linear-gradient(135deg, #e74c3c, #e67e22);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            font-size: 0.9em;
            line-height: 1.5;
            font-weight: 900;
            font-style: italic;
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ð  Usta AI FiyatlandÄ±rma</h1>
            <p>MobilyanÄ±zÄ± kolayca hesaplayÄ±n</p>
        </div>

        <!-- ÃrÃ¼n SeÃ§im EkranÄ± -->
        <div class="screen active" id="screen-product">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Hangi Ã¼rÃ¼nÃ¼ yaptÄ±rmak istiyorsunuz?</h2>
            <div class="product-grid">
                <button class="product-btn" data-product="MUTFAK DOLABI">ð³ Mutfak DolabÄ±</button>
                <button class="product-btn" data-product="GARDROP">ð GardÄ±rop</button>
                <button class="product-btn" data-product="ÅÄ°FONYER">ðï¸ Åifonyer</button>
                <button class="product-btn" data-product="TV ÃNÄ°TESÄ°">ðº TV Ãnitesi</button>
                <button class="product-btn" data-product="PORTMANTO">ð§¥ Portmanto</button>
                <button class="product-btn" data-product="BANYO DOLABI">ð¿ Banyo DolabÄ±</button>
                <button class="product-btn" data-product="KAHVE KÃÅESÄ°">â Kahve KÃ¶Åesi</button>
                <button class="product-btn" data-product="ODA KAPILARI">ðª Oda KapÄ±larÄ±</button>
                <button class="product-btn" data-product="DUVAR PANELÄ°">ð¼ï¸ Duvar Paneli</button>
                <button class="product-btn" data-product="DÄ°ÄERLERÄ°">ð¦ DiÄerleri</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" disabled>Geri</button>
                <button class="nav-btn next-btn" id="next-product" disabled>Devam</button>
            </div>
        </div>

        <!-- MEVCUT 7 KATEGORÄ° EKRANLARI -->
        <!-- ÃLÃÃ EKRANI -->
        <div class="screen" id="screen-dimensions">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>ÃrÃ¼n Ã¶lÃ§Ã¼lerini girin</h2>
            
            <div class="section-title">GeniÅlik</div>
            <div class="dimension-unit">
                <input type="number" class="dimension-input" placeholder="0" id="input-width">
            </div>

            <div class="section-title">YÃ¼kseklik</div>
            <div class="dimension-unit">
                <input type="number" class="dimension-input" placeholder="0" id="input-height">
            </div>

            <div class="section-title">Derinlik</div>
            <div class="dimension-unit">
                <input type="number" class="dimension-input" placeholder="0" id="input-depth">
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-product')">Geri</button>
                <button class="nav-btn next-btn" id="next-dimensions" disabled>Devam</button>
            </div>
        </div>

        <!-- MUTFAK DOLABI EK ÃRÃNLER -->
        <div class="screen" id="screen-kitchen-appliances">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Mutfak dolap alanÄ±ndaki Ã¼rÃ¼nleri iÅaretleyin</h2>
            <div class="option-grid">
                <div class="checkbox-option">
                    <input type="checkbox" id="appliance-fridge" data-appliance="BUZDOLABI">
                    <label for="appliance-fridge">BuzdolabÄ±</label>
                </div>
                <div class="checkbox-option">
                    <input type="checkbox" id="appliance-washer" data-appliance="ÃAMAÅIR MAKÄ°NASI">
                    <label for="appliance-washer">ÃamaÅÄ±r MakinasÄ±</label>
                </div>
                <div class="checkbox-option">
                    <input type="checkbox" id="appliance-oven" data-appliance="FIRIN">
                    <label for="appliance-oven">FÄ±rÄ±n</label>
                </div>
                <div class="checkbox-option">
                    <input type="checkbox" id="appliance-dishwasher" data-appliance="BULAÅIK MAKÄ°NASI">
                    <label for="appliance-dishwasher">BulaÅÄ±k MakinasÄ±</label>
                </div>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-dimensions')">Geri</button>
                <button class="nav-btn next-btn" id="next-kitchen-appliances">Devam</button>
            </div>
        </div>

        <!-- GÃVDE MALZEMESÄ° -->
        <div class="screen" id="screen-body">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>GÃ¶vde malzemesini seÃ§in</h2>
            <div class="option-grid">
                <button class="option-btn" data-body="HAM MDF">HAM MDF</button>
                <button class="option-btn" data-body="MDF LAM">MDF LAM</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" id="back-body">Geri</button>
                <button class="nav-btn next-btn" id="next-body" disabled>Devam</button>
            </div>
        </div>

        <!-- YÃZEY DOKUSU -->
        <div class="screen" id="screen-texture">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>YÃ¼zey dokusunu seÃ§in</h2>
            <div class="option-grid">
                <button class="option-btn" data-texture="MAT">MAT</button>
                <button class="option-btn" data-texture="PARLAK">PARLAK</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-body')">Geri</button>
                <button class="nav-btn next-btn" id="next-texture" disabled>Devam</button>
            </div>
        </div>

        <!-- GÃVDE YÃZEY DESENÄ° -->
        <div class="screen" id="screen-cover-type">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>GÃ¶vde yÃ¼zey desenini seÃ§in</h2>
            <div id="cover-type-options" class="option-grid">
                <!-- Dinamik olarak yÃ¼klenecek -->
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-texture')">Geri</button>
                <button class="nav-btn next-btn" id="next-cover-type" disabled>Devam</button>
            </div>
        </div>

        <!-- MOBÄ°LYA KAPAK SAYISI -->
        <div class="screen" id="screen-mobilya-covers">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Mobilya kapak sayÄ±sÄ±nÄ± girin</h2>
            <input type="number" class="number-input" placeholder="Mobilya kapak sayÄ±sÄ±" id="input-mobilya-covers" min="0">
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-cover-type')">Geri</button>
                <button class="nav-btn next-btn" id="next-mobilya-covers" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPAK MALZEMESÄ° -->
        <div class="screen" id="screen-covers">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Kapak malzemesini seÃ§in</h2>
            <div class="option-grid">
                <button class="option-btn" data-cover="HAM MDF">HAM MDF</button>
                <button class="option-btn" data-cover="MDF LAM">MDF LAM</button>
                <button class="option-btn" data-cover="AKRÄ°LÄ°K">AKRÄ°LÄ°K</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-mobilya-covers')">Geri</button>
                <button class="nav-btn next-btn" id="next-covers" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPAK YÃZEY DOKUSU -->
        <div class="screen" id="screen-cover-texture">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Kapak yÃ¼zey dokusunu seÃ§in</h2>
            <div id="cover-texture-options" class="option-grid">
                <!-- Dinamik olarak yÃ¼klenecek -->
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-covers')">Geri</button>
                <button class="nav-btn next-btn" id="next-cover-texture" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPAK YÃZEY DESENÄ° -->
        <div class="screen" id="screen-cover-type2">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Kapak yÃ¼zey desenini seÃ§in</h2>
            <div id="cover-type2-options" class="option-grid">
                <!-- Dinamik olarak yÃ¼klenecek -->
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-cover-texture')">Geri</button>
                <button class="nav-btn next-btn" id="next-cover-type2" disabled>Devam</button>
            </div>
        </div>

        <!-- ALÃMÄ°NYUM KAPAK SAYISI -->
        <div class="screen" id="screen-aluminum-count">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Sadece alÃ¼minyum Ã§erÃ§eve kapak sayÄ±sÄ±nÄ± girin</h2>
            <input type="number" class="number-input" placeholder="AlÃ¼minyum kapak sayÄ±sÄ±" id="input-aluminum-count" min="0">
            <div class="navigation">
                <button class="nav-btn back-btn" id="back-aluminum-count">Geri</button>
                <button class="nav-btn next-btn" id="next-aluminum-count" disabled>Devam</button>
            </div>
        </div>

        <!-- ALÃMÄ°NYUM RENK -->
        <div class="screen" id="screen-aluminum-color">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>AlÃ¼minyum renk seÃ§in</h2>
            <div class="option-grid">
                <button class="option-btn" data-color="SÄ°YAH">SÄ°YAH</button>
                <button class="option-btn" data-color="ELOKSAL">ELOKSAL</button>
                <button class="option-btn" data-color="PARLAK KROM">PARLAK KROM</button>
                <button class="option-btn" data-color="SATÄ°NE">SATÄ°NE</button>
                <button class="option-btn" data-color="SARI GOLD">SARI GOLD</button>
                <button class="option-btn" data-color="ANTÄ°K SARI">ANTÄ°K SARI</button>
                <button class="option-btn" data-color="ROSE GOLD">ROSE GOLD</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-aluminum-count')">Geri</button>
                <button class="nav-btn next-btn" id="next-aluminum-color" disabled>Devam</button>
            </div>
        </div>

        <!-- ALÃMÄ°NYUM DESEN -->
        <div class="screen" id="screen-aluminum-pattern">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>AlÃ¼minyum desen seÃ§in</h2>
            <div id="aluminum-pattern-options" class="option-grid">
                <!-- Dinamik olarak yÃ¼klenecek -->
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-aluminum-color')">Geri</button>
                <button class="nav-btn next-btn" id="next-aluminum-pattern" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPAK UYARI EKRANI -->
        <div class="screen" id="screen-covers-warning">
            <div class="warning-screen">
                <div class="warning-icon">â ï¸</div>
                <h2>Kapak SayÄ±sÄ± UyarÄ±sÄ±</h2>
                <div class="warning-text">
                    <strong>Mobilya veya alÃ¼minyum kapak sayÄ±sÄ± girmediniz.</strong><br><br>
                    Bu Åekilde devam etmek istiyor musunuz?
                </div>
                <div class="alert-buttons">
                    <button class="alert-btn alert-cancel" onclick="goBackToCovers()">Geri DÃ¶n & DÃ¼zelt</button>
                    <button class="alert-btn alert-confirm" onclick="continueWithoutCovers()">Evet, Devam Et</button>
                </div>
            </div>
        </div>

        <!-- SAYILAR -->
        <div class="screen" id="screen-counts">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Ãekmece ve raf sayÄ±larÄ±nÄ± girin</h2>
            
            <div class="section-title">Ãekmece SayÄ±sÄ±</div>
            <input type="number" class="number-input" placeholder="Ãekmece sayÄ±sÄ±" id="input-drawers" min="0">
            
            <div class="section-title">Toplam Raf SayÄ±sÄ±</div>
            <input type="number" class="number-input" placeholder="Raf sayÄ±sÄ±" id="input-shelves-count" min="0">
            
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="previousScreenFromCounts()">Geri</button>
                <button class="nav-btn next-btn" id="next-counts">Devam</button>
            </div>
        </div>

        <!-- AKSESUARLAR -->
        <div class="screen" id="screen-accessories">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Aksesuar seÃ§enekleri</h2>
            
            <div class="section-title">Ãekmece Sistemleri</div>
            <div class="option-grid">
                <button class="option-btn" data-drawer-system="SAMET">SAMET</button>
                <button class="option-btn" data-drawer-system="BLUM">BLUM</button>
                <button class="option-btn" data-drawer-system="HAFELE">HAFELE</button>
                <button class="option-btn" data-drawer-system="HETTICH">HETTICH</button>
            </div>

            <div class="section-title">Ãekmece Tipi</div>
            <div class="option-grid">
                <button class="option-btn" data-drawer-type="TELESKOPÄ°K">TELESKOPÄ°K</button>
                <button class="option-btn" data-drawer-type="MANDALLI">MANDALLI</button>
                <button class="option-btn" data-drawer-type="BASAÃ">BASAÃ</button>
            </div>

            <div class="section-title">AydÄ±nlatma</div>
            <div class="option-grid">
                <button class="option-btn" data-lighting="LED AYDINLATMA">LED AYDINLATMA</button>
                <button class="option-btn" data-lighting="AYDINLATMA YOK">AYDINLATMA YOK</button>
            </div>

            <div class="section-title">Cam Alanlar</div>
            <div class="option-grid">
                <button class="option-btn" data-glass="RAF ALANLARI">RAF ALANLARI</button>
                <button class="option-btn" data-glass="CAM YOK">CAM YOK</button>
            </div>

            <!-- Cam KalÄ±nlÄ±ÄÄ± SeÃ§enekleri -->
            <div id="glass-thickness-container" style="display: none;">
                <div class="section-title">Cam KalÄ±nlÄ±ÄÄ±</div>
                <div class="option-grid" id="glass-thickness-options">
                    <button class="option-btn" data-glass-thickness="4 MM">4 MM</button>
                    <button class="option-btn" data-glass-thickness="6 MM">6 MM</button>
                    <button class="option-btn" data-glass-thickness="8 MM">8 MM</button>
                    <button class="option-btn" data-glass-thickness="10 MM">10 MM</button>
                </div>

                <!-- Cam YÃ¼zeyi SeÃ§enekleri -->
                <div id="glass-surface-container" style="display: none;">
                    <div class="section-title">Cam YÃ¼zeyi</div>
                    <div class="option-grid" id="glass-surface-options">
                        <button class="option-btn" data-glass-surface="DÃZ">DÃZ</button>
                        <button class="option-btn" data-glass-surface="SÄ°YAH">SÄ°YAH</button>
                    </div>
                </div>
            </div>

            <div class="section-title">Aynalar</div>
            <div class="option-grid">
                <button class="option-btn" data-mirror="AYNA YOK">AYNA YOK</button>
                <button class="option-btn" data-mirror="KAPAK ÃZERÄ°NE AYNA">KAPAK ÃZERÄ°NE AYNA</button>
            </div>

            <!-- Ayna Tipi SeÃ§enekleri -->
            <div id="mirror-type-container" style="display: none;">
                <div class="section-title">Ayna Tipi</div>
                <div class="option-grid" id="mirror-type-options">
                    <button class="option-btn" data-mirror-type="FÃME">FÃME</button>
                    <button class="option-btn" data-mirror-type="BRONZ">BRONZ</button>
                    <button class="option-btn" data-mirror-type="ANTÄ°K SARI">ANTÄ°K SARI</button>
                    <button class="option-btn" data-mirror-type="GÃMÃÅ FLOTAL">GÃMÃÅ FLOTAL</button>
                </div>
            </div>

            <div class="section-title">KumaÅ TÃ¼rleri</div>
            <div class="option-grid">
                <button class="option-btn" data-fabric="KUMAÅ YOK">KUMAÅ YOK</button>
                <button class="option-btn" data-fabric="KADÄ°FE">KADÄ°FE</button>
                <button class="option-btn" data-fabric="KETEN">KETEN</button>
                <button class="option-btn" data-fabric="NUBUK">NUBUK</button>
                <button class="option-btn" data-fabric="DERÄ°">DERÄ°</button>
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-counts')">Geri</button>
                <button class="nav-btn next-btn" id="next-accessories">Devam</button>
            </div>
        </div>

        <!-- DÄ°ÄER BÄ°LGÄ°LER -->
        <div class="screen" id="screen-other-info">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>DiÄer Bilgiler</h2>
            <p style="color: #666; margin-bottom: 20px;">Eklemek istediÄiniz diÄer detaylarÄ± yazÄ±n</p>
            
            <div class="input-group">
                <label class="input-label">Ãzel Notlar</label>
                <textarea class="text-input" placeholder="Eklemek istediÄiniz Ã¶zel notlar, detaylar, istekler..." id="input-notes" rows="4"></textarea>
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="goBackFromOtherInfo()">Geri</button>
                <button class="nav-btn next-btn" id="next-other-info">Devam</button>
            </div>
        </div>

        <!-- KÄ°ÅÄ°SEL BÄ°LGÄ°LER -->
        <div class="screen" id="screen-personal">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Ä°letiÅim bilgilerinizi girin</h2>
            
            <div class="input-group">
                <label class="input-label">Ad Soyad</label>
                <input type="text" class="text-input" placeholder="AdÄ±nÄ±z ve soyadÄ±nÄ±z" id="input-name">
            </div>

            <div class="input-group">
                <label class="input-label">Telefon NumarasÄ±</label>
                <input type="tel" class="text-input" placeholder="Telefon numaranÄ±z" id="input-phone">
            </div>

            <div class="input-group">
                <label class="input-label">Adres</label>
                <textarea class="text-input" placeholder="Teslimat adresiniz" id="input-address" rows="3"></textarea>
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-other-info')">Geri</button>
                <button class="nav-btn next-btn" id="next-personal">WhatsApp'tan Fiyat Ä°ste</button>
            </div>
        </div>

        <!-- WHATSAPP ÃNCESÄ° UYARI -->
        <div class="screen" id="screen-warning">
            <div class="warning-screen">
                <div class="warning-icon">ð¸</div>
                <h2>FotoÄraf HatÄ±rlatmasÄ±</h2>
                <div class="warning-text">
                    <strong>Size daha saÄlÄ±klÄ± geri dÃ¶nÃ¼Åler yapabilmemiz iÃ§in duvarÄ±n fotoÄrafÄ± ve varsa referans Ã¼rÃ¼n fotoÄrafÄ± gÃ¶ndermeyi unutmayÄ±n</strong>
                </div>
                <div class="countdown" id="countdown">5</div>
                <p style="color: #666; margin-top: 10px;">WhatsApp'a yÃ¶nlendiriliyorsunuz...</p>
            </div>
        </div>

        <!-- WHATSAPP -->
        <div class="screen" id="screen-whatsapp">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Fiyat talebiniz hazÄ±r! ð</h2>
            
            <div class="photo-reminder">
                <strong>ð¸ ÃNEMLÄ° HATIRLATMA</strong>
                Size daha kaliteli hizmet sunabilmek iÃ§in uygulama yapÄ±lacak alanÄ±n fotoÄrafÄ± ve varsa referans gÃ¶rsel atmayÄ± unutmayÄ±n!
            </div>

            <!-- FÄ°YAT ARALIÄI BÃLÃMÃ -->
            <div class="price-range">
                <h3>ð° TAHMÄ°NÄ° FÄ°YAT ARALIÄI</h3>
                <div class="price-amount" id="price-range-display">139.861 TL - 154.584 TL</div>
                <div class="price-note">%5 alt/Ã¼st marj ile hesaplanmÄ±ÅtÄ±r</div>
            </div>

            <!-- PREMIUM NOT EKLENDÄ° - YENÄ° TASARIM -->
            <div class="premium-note">
                ð BU YALNIZCA ÃN FÄ°YATLANDIRMA VE SÄ°ZE ÃZEL. DETAYLI PROJELENDÄ°RME Ä°ÃÄ°N MÄ°MARIMIZ EN KISA SÃREDE GERÄ° DÃNÃÅ SAÄLAYACAKTIR.
            </div>

            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 20px 0;">
                <div id="summary-content">
                    <!-- Ãzet buraya dinamik olarak yÃ¼klenecek -->
                </div>
            </div>
            
            <!-- AI FOOTER DAHA KALIN YAPILDI -->
            <div class="ai-footer">
                SÄ°ZE ÃZEL BU TALEP, USTA AI AKILLI FÄ°YATLANDIRMA SÄ°STEM TEKNOLOJÄ°SÄ°YLE OTOMATÄ°K OLARAK HAZIRLANDI
            </div>
            
            <button class="whatsapp-btn" onclick="sendToWhatsApp()">
                ð± WhatsApp'tan GÃ¶nder
            </button>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-personal')">Geri</button>
                <button class="nav-btn next-btn" onclick="restartApp()">Yeni Talep</button>
            </div>
        </div>

        <!-- ODA KAPILARI EKRANLARI -->
        <!-- KAPI ÃLÃÃLERÄ° -->
        <div class="screen" id="screen-door-dimensions">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>KapÄ± Ã¶lÃ§Ã¼lerini girin</h2>
            
            <div class="section-title">GeniÅlik</div>
            <div class="dimension-unit">
                <input type="number" class="dimension-input" placeholder="0" id="input-door-width">
            </div>

            <div class="section-title">YÃ¼kseklik</div>
            <div class="dimension-unit">
                <input type="number" class="dimension-input" placeholder="0" id="input-door-height">
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-product')">Geri</button>
                <button class="nav-btn next-btn" id="next-door-dimensions" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPI TÄ°PÄ° -->
        <div class="screen" id="screen-door-type">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>KapÄ± tipini seÃ§in</h2>
            <div class="option-grid">
                <button class="option-btn" data-door-type="ÃITALI KAPI">ÃÄ±talÄ± KapÄ±</button>
                <button class="option-btn" data-door-type="DÃZ KAPI">DÃ¼z KapÄ±</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-door-dimensions')">Geri</button>
                <button class="nav-btn next-btn" id="next-door-type" disabled>Devam</button>
            </div>
        </div>

        <!-- CAM DURUMU -->
        <div class="screen" id="screen-door-glass">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Cam durumunu seÃ§in</h2>
            <div class="option-grid">
                <button class="option-btn" data-door-glass="CAMLI">CamlÄ±</button>
                <button class="option-btn" data-door-glass="CAMSIZ">CamsÄ±z</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-door-type')">Geri</button>
                <button class="nav-btn next-btn" id="next-door-glass" disabled>Devam</button>
            </div>
        </div>

        <!-- PERVAZ SEÃÄ°MÄ° -->
        <div class="screen" id="screen-door-trim">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Pervaz seÃ§imi</h2>
            <div class="option-grid">
                <button class="option-btn" data-door-trim="STANDART PERVAZ">Standart Pervaz</button>
                <button class="option-btn" data-door-trim="DESENLÄ° PERVAZ">Desenli Pervaz</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-door-glass')">Geri</button>
                <button class="nav-btn next-btn" id="next-door-trim" disabled>Devam</button>
            </div>
        </div>

        <!-- KAPI ADEDÄ° -->
        <div class="screen" id="screen-door-count">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>KapÄ± adedini girin</h2>
            <input type="number" class="number-input" placeholder="KapÄ± adedi" id="input-door-count" min="1">
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-door-trim')">Geri</button>
                <button class="nav-btn next-btn" id="next-door-count" disabled>Devam</button>
            </div>
        </div>

        <!-- DUVAR PANELÄ° EKRANLARI -->
        <!-- PANEL ÃLÃÃLERÄ° -->
        <div class="screen" id="screen-panel-dimensions">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Panel Ã¶lÃ§Ã¼lerini girin</h2>
            
            <div class="section-title">GeniÅlik</div>
            <div class="dimension-unit">
                <input type="number" class="dimension-input" placeholder="0" id="input-panel-width">
            </div>

            <div class="section-title">YÃ¼kseklik</div>
            <div class="dimension-unit">
                <input type="number" class="dimension-input" placeholder="0" id="input-panel-height">
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-product')">Geri</button>
                <button class="nav-btn next-btn" id="next-panel-dimensions" disabled>Devam</button>
            </div>
        </div>

        <!-- PANEL GÃVDE MALZEMESÄ° -->
        <div class="screen" id="screen-panel-body">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>GÃ¶vde malzemesini seÃ§in</h2>
            <div class="option-grid">
                <button class="option-btn" data-panel-body="HAM MDF">HAM MDF</button>
                <button class="option-btn" data-panel-body="MDF LAM">MDF LAM</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-panel-dimensions')">Geri</button>
                <button class="nav-btn next-btn" id="next-panel-body" disabled>Devam</button>
            </div>
        </div>

        <!-- PANEL YÃZEY DOKUSU -->
        <div class="screen" id="screen-panel-texture">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>YÃ¼zey dokusunu seÃ§in</h2>
            <div class="option-grid">
                <button class="option-btn" data-panel-texture="MAT">MAT</button>
                <button class="option-btn" data-panel-texture="PARLAK">PARLAK</button>
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-panel-body')">Geri</button>
                <button class="nav-btn next-btn" id="next-panel-texture" disabled>Devam</button>
            </div>
        </div>

        <!-- PANEL YÃZEY DESENÄ° -->
        <div class="screen" id="screen-panel-cover-type">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>YÃ¼zey desenini seÃ§in</h2>
            <div id="panel-cover-type-options" class="option-grid">
                <!-- Dinamik olarak yÃ¼klenecek -->
            </div>
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-panel-texture')">Geri</button>
                <button class="nav-btn next-btn" id="next-panel-cover-type" disabled>Devam</button>
            </div>
        </div>

        <!-- PANEL ADEDÄ° -->
        <div class="screen" id="screen-panel-count">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Panel adedini girin</h2>
            <input type="number" class="number-input" placeholder="Panel adedi" id="input-panel-count" min="1">
            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-panel-cover-type')">Geri</button>
                <button class="nav-btn next-btn" id="next-panel-count" disabled>Devam</button>
            </div>
        </div>

        <!-- DÄ°ÄERLERÄ° EKRANI - SADECE NOTLAR -->
        <div class="screen" id="screen-other-category">
            <button class="home-btn" onclick="restartApp()">ð  Ana Ekrana DÃ¶n</button>
            <h2>Ãzel Notlar</h2>
            <p style="color: #666; margin-bottom: 20px;">YaptÄ±rmak istediÄiniz Ã¼rÃ¼nÃ¼ detaylÄ± Åekilde aÃ§Ä±klayÄ±n</p>
            
            <div class="input-group">
                <label class="input-label">ÃrÃ¼n AÃ§Ä±klamasÄ±</label>
                <textarea class="text-input" placeholder="ÃrÃ¼nÃ¼n ne olduÄunu, ne amaÃ§la kullanÄ±lacaÄÄ±nÄ±, Ã¶zelliklerini detaylÄ± Åekilde yazÄ±n..." id="input-other-desc" rows="6"></textarea>
            </div>

            <div class="navigation">
                <button class="nav-btn back-btn" onclick="showScreen('screen-product')">Geri</button>
                <button class="nav-btn next-btn" id="next-other-category" disabled>Devam</button>
            </div>
        </div>

    </div>

    <script>
        // FÄ°YAT LÄ°STESÄ°
        const priceList = {
            // GÃ¶vde Malzemeleri (mÂ²)
            body: {
                'HAM MDF': 15000,
                'MDF LAM': 12000
            },
            
            // Kapak Malzemeleri (mÂ²)
            cover: {
                'HAM MDF': 15000,
                'MDF LAM': 12000,
                'AKRÄ°LÄ°K': 13500
            },
            
            // AlÃ¼minyum (mÂ²)
            aluminum: {
                base: 7500,
                extraColor: 500 // adet baÅÄ±na
            },
            
            // Aksesuarlar
            accessories: {
                drawerSystems: {
                    'SAMET': 1200,
                    'BLUM': 2500,
                    'HAFELE': 1800,
                    'HETTICH': 2200
                },
                lighting: {
                    'LED AYDINLATMA': 1500
                },
                glass: {
                    '4 MM': 800,
                    '6 MM': 1200,
                    '8 MM': 1600,
                    '10 MM': 2000
                },
                basic: {
                    'drawer': 400,  // temel Ã§ekmece
                    'shelf': 300    // standart raf
                }
            },
            
            // Montaj
            installation: 0.15 // %15
        };

        // MEVCUT 7 KATEGORÄ° Ä°ÃÄ°N SEÃENEKLER
        const mevcutUrunSecenekleri = {
            gÃ¶vde: {
                'HAM MDF': {
                    'MAT': ['DÃZ LAKE', 'CNC Ä°ÅLEMELÄ° LAKE'],
                    'PARLAK': ['DÃZ LAKE', 'CNC Ä°ÅLEMELÄ° LAKE']
                },
                'MDF LAM': {
                    'MAT': ['MDF LAM', 'LAK PANEL'],
                    'PARLAK': ['MDF LAM']
                }
            },
            
            kapaklar: {
                'HAM MDF': {
                    'MAT': ['DÃZ LAKE', 'KLAPALI LAKE', 'CNC Ä°ÅLEMELÄ° LAKE'],
                    'PARLAK': ['DÃZ LAKE', 'KLAPALI LAKE', 'CNC Ä°ÅLEMELÄ° LAKE']
                },
                'MDF LAM': {
                    'MAT': ['MDF LAM', 'LAK PANEL'],
                    'PARLAK': ['MDF LAM']
                },
                'AKRÄ°LÄ°K': {
                    'PARLAK': ['AKRÄ°LÄ°K']
                }
            },
            
            alÃ¼minyum: {
                'SÄ°YAH': ['DÃZ', 'SATÄ°NE', 'REFLEKTE', 'FÃME', 'NERVÃRLÃ', 'BRONZ', 'SÄ°YAH BOYALI'],
                'ELOKSAL': ['DÃZ', 'SATÄ°NE', 'REFLEKTE', 'FÃME', 'NERVÃRLÃ', 'BRONZ', 'SÄ°YAH BOYALI'],
                'PARLAK KROM': ['DÃZ', 'SATÄ°NE', 'REFLEKTE', 'FÃME', 'NERVÃRLÃ', 'BRONZ', 'SÄ°YAH BOYALI'],
                'SATÄ°NE': ['DÃZ', 'SATÄ°NE', 'REFLEKTE', 'FÃME', 'NERVÃRLÃ', 'BRONZ', 'SÄ°YAH BOYALI'],
                'SARI GOLD': ['DÃZ', 'SATÄ°NE', 'REFLEKTE', 'FÃME', 'NERVÃRLÃ', 'BRONZ', 'SÄ°YAH BOYALI'],
                'ANTÄ°K SARI': ['DÃZ', 'SATÄ°NE', 'REFLEKTE', 'FÃME', 'NERVÃRLÃ', 'BRONZ', 'SÄ°YAH BOYALI'],
                'ROSE GOLD': ['DÃZ', 'SATÄ°NE', 'REFLEKTE', 'FÃME', 'NERVÃRLÃ', 'BRONZ', 'SÄ°YAH BOYALI']
            }
        };

        // ÃALIÅACAK ÃRÃN LÄ°STELERÄ°
        const mevcutUrunler = [
            'MUTFAK DOLABI', 'GARDROP', 'ÅÄ°FONYER', 'TV ÃNÄ°TESÄ°', 
            'PORTMANTO', 'BANYO DOLABI', 'KAHVE KÃÅESÄ°'
        ];

        let userSelection = {
            product: '',
            dimensions: { width: '', height: '', depth: '' },
            body: '', texture: '', coverType: '',
            mobilyaCovers: '', cover: '', coverTexture: '', coverType2: '',
            aluminumCount: '', aluminumColor: '', aluminumPattern: '',
            drawers: '', shelvesCount: '',
            drawerSystem: '', drawerType: '',
            lighting: '', glass: '', glassThickness: '', glassSurface: '',
            mirror: '', mirrorType: '', fabric: '',
            kitchenAppliances: [],
            notes: '', name: '', phone: '', address: '',
            // Oda KapÄ±larÄ±
            doorWidth: '', doorHeight: '', doorType: '', doorGlass: '', doorTrim: '', doorCount: '',
            // Duvar Paneli
            panelWidth: '', panelHeight: '', panelBody: '', panelTexture: '', panelCoverType: '', panelCount: '',
            // DiÄerleri
            otherDescription: ''
        };

        let countdownInterval;
        let currentFlow = [];

        // FÄ°YAT HESAPLAMA FONKSÄ°YONU
        function calculatePrice() {
            let totalPrice = 0;
            
            // Sadece mevcut 7 kategori iÃ§in fiyat hesapla
            if (mevcutUrunler.includes(userSelection.product)) {
                // 1. GÃ¶vde Maliyeti - SADECE ÃN YÃZEY
                if (userSelection.body && userSelection.dimensions.width && userSelection.dimensions.height) {
                    const width = parseFloat(userSelection.dimensions.width) / 100; // cm to m
                    const height = parseFloat(userSelection.dimensions.height) / 100;
                    
                    // DOÄRU: Sadece Ã¶n yÃ¼zey alanÄ±
                    const frontArea = width * height;
                    totalPrice += frontArea * priceList.body[userSelection.body];
                }
                
                // 2. Kapak Maliyeti - ÃN YÃZEY ÃZERÄ°NDEN
                if (userSelection.cover && userSelection.mobilyaCovers) {
                    const coverCount = parseInt(userSelection.mobilyaCovers) || 0;
                    // Her kapak iÃ§in ortalama 0.5mÂ² varsayalÄ±m
                    const coverArea = coverCount * 0.5;
                    totalPrice += coverArea * priceList.cover[userSelection.cover];
                }
                
                // 3. AlÃ¼minyum Maliyeti
                if (userSelection.aluminumCount) {
                    const aluminumCount = parseInt(userSelection.aluminumCount) || 0;
                    // Her alÃ¼minyum kapak iÃ§in ortalama 0.5mÂ² varsayalÄ±m
                    const aluminumArea = aluminumCount * 0.5;
                    totalPrice += aluminumArea * priceList.aluminum.base;
                    
                    // Ekstra renk/desen Ã¼creti
                    if (userSelection.aluminumColor && userSelection.aluminumColor !== 'SÄ°YAH') {
                        totalPrice += aluminumCount * priceList.aluminum.extraColor;
                    }
                }
                
                // 4. Aksesuar Maliyetleri
                // Ãekmece sistemleri
                if (userSelection.drawerSystem && userSelection.drawers) {
                    const drawerCount = parseInt(userSelection.drawers) || 0;
                    totalPrice += drawerCount * priceList.accessories.drawerSystems[userSelection.drawerSystem];
                }
                
                // Temel Ã§ekmece
                if (userSelection.drawers) {
                    const drawerCount = parseInt(userSelection.drawers) || 0;
                    totalPrice += drawerCount * priceList.accessories.basic.drawer;
                }
                
                // Raf
                if (userSelection.shelvesCount) {
                    const shelfCount = parseInt(userSelection.shelvesCount) || 0;
                    totalPrice += shelfCount * priceList.accessories.basic.shelf;
                }
                
                // AydÄ±nlatma
                if (userSelection.lighting === 'LED AYDINLATMA') {
                    totalPrice += priceList.accessories.lighting['LED AYDINLATMA'];
                }
                
                // Cam (basit hesaplama)
                if (userSelection.glass === 'RAF ALANLARI' && userSelection.glassThickness) {
                    const glassArea = 1.0; // VarsayÄ±lan alan
                    totalPrice += glassArea * priceList.accessories.glass[userSelection.glassThickness];
                }
            }
            
            // Montaj Ã¼creti ekle
            totalPrice += totalPrice * priceList.installation;
            
            return Math.round(totalPrice);
        }

        // FÄ°YAT ARALIÄI HESAPLAMA
        function calculatePriceRange() {
            const basePrice = calculatePrice();
            const lowerRange = Math.round(basePrice * 0.95);
            const upperRange = Math.round(basePrice * 1.05);
            
            return {
                lower: lowerRange,
                upper: upperRange,
                display: `${formatPrice(lowerRange)} TL - ${formatPrice(upperRange)} TL`
            };
        }

        // FÄ°YAT FORMATLAMA
        function formatPrice(price) {
            return new Intl.NumberFormat('tr-TR').format(price);
        }

        // EKRAN YÃNETÄ°MÄ°
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
            
            // Dinamik yÃ¼klemeler
            if (screenId === 'screen-cover-type') {
                loadCoverTypeOptions();
            } else if (screenId === 'screen-cover-texture') {
                loadCoverTextureOptions();
            } else if (screenId === 'screen-cover-type2') {
                loadCoverType2Options();
            } else if (screenId === 'screen-aluminum-pattern') {
                loadAluminumPatternOptions();
            } else if (screenId === 'screen-panel-cover-type') {
                loadPanelCoverTypeOptions();
            } else if (screenId === 'screen-warning') {
                startCountdown();
            } else if (screenId === 'screen-whatsapp') {
                updatePriceDisplay();
            }
        }

        // FÄ°YAT GÃSTERÄ°MÄ°NÄ° GÃNCELLE
        function updatePriceDisplay() {
            const priceRange = calculatePriceRange();
            document.getElementById('price-range-display').textContent = priceRange.display;
        }

        // AKIÅ YÃNETÄ°MÄ°
        function setupProductFlow() {
            currentFlow = [];
            
            if (mevcutUrunler.includes(userSelection.product)) {
                if (userSelection.product === 'MUTFAK DOLABI') {
                    currentFlow = [
                        'screen-dimensions', 'screen-kitchen-appliances', 'screen-body', 'screen-texture', 'screen-cover-type',
                        'screen-mobilya-covers', 'screen-covers', 'screen-cover-texture', 'screen-cover-type2',
                        'screen-aluminum-count', 'screen-aluminum-color', 'screen-aluminum-pattern', 'screen-counts',
                        'screen-accessories', 'screen-other-info', 'screen-personal'
                    ];
                } else {
                    currentFlow = [
                        'screen-dimensions', 'screen-body', 'screen-texture', 'screen-cover-type',
                        'screen-mobilya-covers', 'screen-covers', 'screen-cover-texture', 'screen-cover-type2',
                        'screen-aluminum-count', 'screen-aluminum-color', 'screen-aluminum-pattern', 'screen-counts',
                        'screen-accessories', 'screen-other-info', 'screen-personal'
                    ];
                }
            } else if (userSelection.product === 'ODA KAPILARI') {
                currentFlow = [
                    'screen-door-dimensions', 'screen-door-type', 'screen-door-glass',
                    'screen-door-trim', 'screen-door-count', 'screen-other-info', 'screen-personal'
                ];
            } else if (userSelection.product === 'DUVAR PANELÄ°') {
                currentFlow = [
                    'screen-panel-dimensions', 'screen-panel-body', 'screen-panel-texture',
                    'screen-panel-cover-type', 'screen-panel-count', 'screen-other-info', 'screen-personal'
                ];
            } else if (userSelection.product === 'DÄ°ÄERLERÄ°') {
                currentFlow = [
                    'screen-other-category', 'screen-other-info', 'screen-personal'
                ];
            }
        }

        // DÄ°NAMÄ°K SEÃENEK YÃKLEMELERÄ°
        function loadCoverTypeOptions() {
            const optionsContainer = document.getElementById('cover-type-options');
            optionsContainer.innerHTML = '';

            if (mevcutUrunler.includes(userSelection.product) && userSelection.body && userSelection.texture) {
                const options = mevcutUrunSecenekleri.gÃ¶vde[userSelection.body][userSelection.texture];
                
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.textContent = option;
                    button.dataset.covertype = option;
                    button.onclick = function() {
                        document.querySelectorAll('#cover-type-options .option-btn').forEach(btn => btn.classList.remove('selected'));
                        this.classList.add('selected');
                        userSelection.coverType = this.dataset.covertype;
                        document.getElementById('next-cover-type').disabled = false;
                    };
                    optionsContainer.appendChild(button);
                });
            }
        }

        function loadCoverTextureOptions() {
            const optionsContainer = document.getElementById('cover-texture-options');
            optionsContainer.innerHTML = '';

            if (mevcutUrunler.includes(userSelection.product) && userSelection.cover) {
                const textures = mevcutUrunSecenekleri.kapaklar[userSelection.cover];
                const availableTextures = Object.keys(textures);
                
                availableTextures.forEach(texture => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.textContent = texture;
                    button.dataset.covertexture = texture;
                    button.onclick = function() {
                        document.querySelectorAll('#cover-texture-options .option-btn').forEach(btn => btn.classList.remove('selected'));
                        this.classList.add('selected');
                        userSelection.coverTexture = this.dataset.covertexture;
                        document.getElementById('next-cover-texture').disabled = false;
                    };
                    optionsContainer.appendChild(button);
                });
            }
        }

        function loadCoverType2Options() {
            const optionsContainer = document.getElementById('cover-type2-options');
            optionsContainer.innerHTML = '';

            if (mevcutUrunler.includes(userSelection.product) && userSelection.cover && userSelection.coverTexture) {
                const options = mevcutUrunSecenekleri.kapaklar[userSelection.cover][userSelection.coverTexture];
                
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.textContent = option;
                    button.dataset.covertype2 = option;
                    button.onclick = function() {
                        document.querySelectorAll('#cover-type2-options .option-btn').forEach(btn => btn.classList.remove('selected'));
                        this.classList.add('selected');
                        userSelection.coverType2 = this.dataset.covertype2;
                        document.getElementById('next-cover-type2').disabled = false;
                    };
                    optionsContainer.appendChild(button);
                });
            }
        }

        function loadAluminumPatternOptions() {
            const optionsContainer = document.getElementById('aluminum-pattern-options');
            optionsContainer.innerHTML = '';

            if (mevcutUrunler.includes(userSelection.product) && userSelection.aluminumColor) {
                const patterns = mevcutUrunSecenekleri.alÃ¼minyum[userSelection.aluminumColor];
                
                patterns.forEach(pattern => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.textContent = pattern;
                    button.dataset.pattern = pattern;
                    button.onclick = function() {
                        document.querySelectorAll('#aluminum-pattern-options .option-btn').forEach(btn => btn.classList.remove('selected'));
                        this.classList.add('selected');
                        userSelection.aluminumPattern = this.dataset.pattern;
                        document.getElementById('next-aluminum-pattern').disabled = false;
                    };
                    optionsContainer.appendChild(button);
                });
            }
        }

        function loadPanelCoverTypeOptions() {
            const optionsContainer = document.getElementById('panel-cover-type-options');
            optionsContainer.innerHTML = '';

            if (userSelection.product === 'DUVAR PANELÄ°' && userSelection.panelBody && userSelection.panelTexture) {
                const options = mevcutUrunSecenekleri.gÃ¶vde[userSelection.panelBody][userSelection.panelTexture];
                
                options.forEach(option => {
                    const button = document.createElement('button');
                    button.className = 'option-btn';
                    button.textContent = option;
                    button.dataset.panelcovertype = option;
                    button.onclick = function() {
                        document.querySelectorAll('#panel-cover-type-options .option-btn').forEach(btn => btn.classList.remove('selected'));
                        this.classList.add('selected');
                        userSelection.panelCoverType = this.dataset.panelcovertype;
                        document.getElementById('next-panel-cover-type').disabled = false;
                    };
                    optionsContainer.appendChild(button);
                });
            }
        }

        // CAM SEÃENEKLERÄ° YÃNETÄ°MÄ°
        function toggleGlassOptions() {
            const glassThicknessContainer = document.getElementById('glass-thickness-container');
            const glassSurfaceContainer = document.getElementById('glass-surface-container');
            
            if (userSelection.glass === 'RAF ALANLARI') {
                glassThicknessContainer.style.display = 'block';
                if (userSelection.glassThickness) {
                    glassSurfaceContainer.style.display = 'block';
                } else {
                    glassSurfaceContainer.style.display = 'none';
                }
            } else {
                glassThicknessContainer.style.display = 'none';
                glassSurfaceContainer.style.display = 'none';
                userSelection.glassThickness = '';
                userSelection.glassSurface = '';
            }
        }

        // AYNA SEÃENEKLERÄ° YÃNETÄ°MÄ°
        function toggleMirrorOptions() {
            const mirrorTypeContainer = document.getElementById('mirror-type-container');
            
            if (userSelection.mirror === 'KAPAK ÃZERÄ°NE AYNA') {
                mirrorTypeContainer.style.display = 'block';
            } else {
                mirrorTypeContainer.style.display = 'none';
                userSelection.mirrorType = '';
            }
        }

        // KAPAK UYARI FONKSÄ°YONLARI
        function checkCoversAndContinue() {
            const mobilyaCovers = parseInt(userSelection.mobilyaCovers) || 0;
            const aluminumCount = parseInt(userSelection.aluminumCount) || 0;
            
            if (mobilyaCovers === 0 && aluminumCount === 0) {
                showScreen('screen-covers-warning');
            } else {
                showScreen('screen-counts');
            }
        }

        function goBackToCovers() {
            showScreen('screen-mobilya-covers');
        }

        function continueWithoutCovers() {
            showScreen('screen-counts');
        }

        function previousScreenFromCounts() {
            const aluminumCount = parseInt(userSelection.aluminumCount) || 0;
            
            if (aluminumCount > 0) {
                showScreen('screen-aluminum-pattern');
            } else {
                const mobilyaCovers = parseInt(userSelection.mobilyaCovers) || 0;
                if (mobilyaCovers > 0) {
                    showScreen('screen-cover-type2');
                } else {
                    showScreen('screen-aluminum-count');
                }
            }
        }

        // GERÄ° SAYIM
        function startCountdown() {
            let count = 5;
            const countdownElement = document.getElementById('countdown');
            countdownElement.textContent = count;
            
            countdownInterval = setInterval(() => {
                count--;
                countdownElement.textContent = count;
                
                if (count <= 0) {
                    clearInterval(countdownInterval);
                    showScreen('screen-whatsapp');
                }
            }, 1000);
        }

        // DÄ°ÄER BÄ°LGÄ°LER GERÄ° BUTONU
        function goBackFromOtherInfo() {
            if (userSelection.product === 'ODA KAPILARI') {
                showScreen('screen-door-count');
            } else if (userSelection.product === 'DUVAR PANELÄ°') {
                showScreen('screen-panel-count');
            } else if (userSelection.product === 'DÄ°ÄERLERÄ°') {
                showScreen('screen-other-category');
            } else {
                showScreen('screen-accessories');
            }
        }

        // ÃZET HAZIRLAMA
        function prepareSummary() {
            userSelection.name = document.getElementById('input-name').value;
            userSelection.phone = document.getElementById('input-phone').value;
            userSelection.address = document.getElementById('input-address').value;
            userSelection.notes = document.getElementById('input-notes').value;
            
            showScreen('screen-warning');
            
            setTimeout(() => {
                const summaryContent = document.getElementById('summary-content');
                let html = '';
                
                html += `<div class="summary-item"><strong>ÃrÃ¼n:</strong> ${userSelection.product}</div>`;
                
                if (mevcutUrunler.includes(userSelection.product)) {
                    html += `<div class="summary-item"><strong>ÃlÃ§Ã¼ler:</strong> ${userSelection.dimensions.width}x${userSelection.dimensions.height}x${userSelection.dimensions.depth} cm</div>`;
                    
                    if (userSelection.product === 'MUTFAK DOLABI' && userSelection.kitchenAppliances.length > 0) {
                        html += `<div class="summary-item"><strong>Mutfak CihazlarÄ±:</strong> ${userSelection.kitchenAppliances.join(', ')}</div>`;
                    }
                    
                    if (userSelection.body) {
                        html += `<div class="summary-item"><strong>GÃ¶vde Malzemesi:</strong> ${userSelection.body}</div>`;
                        html += `<div class="summary-item"><strong>YÃ¼zey Dokusu:</strong> ${userSelection.texture}</div>`;
                        if (userSelection.coverType) {
                            html += `<div class="summary-item"><strong>GÃ¶vde YÃ¼zey Deseni:</strong> ${userSelection.coverType}</div>`;
                        }
                    }
                    
                    const mobilyaCovers = parseInt(userSelection.mobilyaCovers) || 0;
                    if (mobilyaCovers > 0) {
                        html += `<div class="summary-item"><strong>Mobilya Kapak:</strong> ${mobilyaCovers} adet</div>`;
                        if (userSelection.cover) {
                            html += `<div class="summary-item"><strong>Kapak Malzemesi:</strong> ${userSelection.cover}</div>`;
                        }
                        if (userSelection.coverTexture) {
                            html += `<div class="summary-item"><strong>YÃ¼zey Dokusu:</strong> ${userSelection.coverTexture}</div>`;
                        }
                        if (userSelection.coverType2) {
                            html += `<div class="summary-item"><strong>Kapak YÃ¼zey Deseni:</strong> ${userSelection.coverType2}</div>`;
                        }
                    }
                    
                    const aluminumCount = parseInt(userSelection.aluminumCount) || 0;
                    if (aluminumCount > 0) {
                        html += `<div class="summary-item"><strong>AlÃ¼minyum Kapak:</strong> ${aluminumCount} adet</div>`;
                        if (userSelection.aluminumColor) {
                            html += `<div class="summary-item"><strong>AlÃ¼minyum Renk:</strong> ${userSelection.aluminumColor}</div>`;
                        }
                        if (userSelection.aluminumPattern) {
                            html += `<div class="summary-item"><strong>AlÃ¼minyum Desen:</strong> ${userSelection.aluminumPattern}</div>`;
                        }
                    }
                    
                    const totalCovers = mobilyaCovers + aluminumCount;
                    html += `<div class="summary-item"><strong>Toplam Kapak:</strong> ${totalCovers} adet</div>`;
                    
                    if (userSelection.drawers || userSelection.shelvesCount) {
                        html += `<div class="summary-item"><strong>Ãekmece SayÄ±sÄ±:</strong> ${userSelection.drawers || '0'}</div>`;
                        html += `<div class="summary-item"><strong>Raf SayÄ±sÄ±:</strong> ${userSelection.shelvesCount || '0'}</div>`;
                    }
                    
                    if (userSelection.drawerSystem) {
                        html += `<div class="summary-item"><strong>Ãekmece Sistemi:</strong> ${userSelection.drawerSystem}</div>`;
                    }
                    if (userSelection.drawerType) {
                        html += `<div class="summary-item"><strong>Ãekmece Tipi:</strong> ${userSelection.drawerType}</div>`;
                    }
                    if (userSelection.lighting) {
                        html += `<div class="summary-item"><strong>AydÄ±nlatma:</strong> ${userSelection.lighting}</div>`;
                    }
                    if (userSelection.glass) {
                        html += `<div class="summary-item"><strong>Cam:</strong> ${userSelection.glass}</div>`;
                    }
                    if (userSelection.glassThickness) {
                        html += `<div class="summary-item"><strong>Cam KalÄ±nlÄ±ÄÄ±:</strong> ${userSelection.glassThickness}</div>`;
                    }
                    if (userSelection.glassSurface) {
                        html += `<div class="summary-item"><strong>Cam YÃ¼zeyi:</strong> ${userSelection.glassSurface}</div>`;
                    }
                    if (userSelection.mirror) {
                        html += `<div class="summary-item"><strong>Ayna:</strong> ${userSelection.mirror}</div>`;
                    }
                    if (userSelection.mirrorType) {
                        html += `<div class="summary-item"><strong>Ayna Tipi:</strong> ${userSelection.mirrorType}</div>`;
                    }
                    if (userSelection.fabric) {
                        html += `<div class="summary-item"><strong>KumaÅ:</strong> ${userSelection.fabric}</div>`;
                    }
                } else if (userSelection.product === 'ODA KAPILARI') {
                    html += `<div class="summary-item"><strong>KapÄ± ÃlÃ§Ã¼leri:</strong> ${userSelection.doorWidth}x${userSelection.doorHeight} cm</div>`;
                    html += `<div class="summary-item"><strong>KapÄ± Tipi:</strong> ${userSelection.doorType}</div>`;
                    html += `<div class="summary-item"><strong>Cam Durumu:</strong> ${userSelection.doorGlass}</div>`;
                    html += `<div class="summary-item"><strong>Pervaz:</strong> ${userSelection.doorTrim}</div>`;
                    html += `<div class="summary-item"><strong>KapÄ± Adedi:</strong> ${userSelection.doorCount}</div>`;
                } else if (userSelection.product === 'DUVAR PANELÄ°') {
                    html += `<div class="summary-item"><strong>Panel ÃlÃ§Ã¼leri:</strong> ${userSelection.panelWidth}x${userSelection.panelHeight} cm</div>`;
                    html += `<div class="summary-item"><strong>GÃ¶vde Malzemesi:</strong> ${userSelection.panelBody}</div>`;
                    html += `<div class="summary-item"><strong>YÃ¼zey Dokusu:</strong> ${userSelection.panelTexture}</div>`;
                    if (userSelection.panelCoverType) {
                        html += `<div class="summary-item"><strong>YÃ¼zey Deseni:</strong> ${userSelection.panelCoverType}</div>`;
                    }
                    html += `<div class="summary-item"><strong>Panel Adedi:</strong> ${userSelection.panelCount}</div>`;
                } else if (userSelection.product === 'DÄ°ÄERLERÄ°') {
                    html += `<div class="summary-item"><strong>AÃ§Ä±klama:</strong> ${userSelection.otherDescription}</div>`;
                }
                
                if (userSelection.notes) {
                    html += `<div class="summary-item"><strong>Ãzel Notlar:</strong> ${userSelection.notes}</div>`;
                }
                
                html += `<div class="summary-item"><strong>Ad Soyad:</strong> ${userSelection.name}</div>`;
                html += `<div class="summary-item"><strong>Telefon:</strong> ${userSelection.phone}</div>`;
                html += `<div class="summary-item"><strong>Adres:</strong> ${userSelection.address}</div>`;
                
                summaryContent.innerHTML = html;
            }, 5000);
        }

        // UYGULAMAYI YENÄ°DEN BAÅLAT
        function restartApp() {
            userSelection = {
                product: '',
                dimensions: { width: '', height: '', depth: '' },
                body: '', texture: '', coverType: '',
                mobilyaCovers: '', cover: '', coverTexture: '', coverType2: '',
                aluminumCount: '', aluminumColor: '', aluminumPattern: '',
                drawers: '', shelvesCount: '',
                drawerSystem: '', drawerType: '',
                lighting: '', glass: '', glassThickness: '', glassSurface: '',
                mirror: '', mirrorType: '', fabric: '',
                kitchenAppliances: [],
                notes: '', name: '', phone: '', address: '',
                doorWidth: '', doorHeight: '', doorType: '', doorGlass: '', doorTrim: '', doorCount: '',
                panelWidth: '', panelHeight: '', panelBody: '', panelTexture: '', panelCoverType: '', panelCount: '',
                otherDescription: ''
            };
            
            document.querySelectorAll('input, textarea').forEach(input => {
                input.value = '';
            });
            
            document.querySelectorAll('.option-btn.selected, .product-btn.selected').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            document.querySelectorAll('.checkbox-option input').forEach(checkbox => {
                checkbox.checked = false;
            });
            
            document.querySelectorAll('.next-btn').forEach(btn => {
                btn.disabled = true;
            });
            
            document.getElementById('glass-thickness-container').style.display = 'none';
            document.getElementById('glass-surface-container').style.display = 'none';
            document.getElementById('mirror-type-container').style.display = 'none';
            
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
            
            showScreen('screen-product');
        }

        // EVENT LISTENER'LAR
        document.addEventListener('DOMContentLoaded', function() {
            // ÃrÃ¼n seÃ§imi
            document.querySelectorAll('.product-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('.product-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.product = this.dataset.product;
                    setupProductFlow();
                    document.getElementById('next-product').disabled = false;
                    
                    // DÄ°ÄERLERÄ° KATEGORÄ°SÄ° Ä°ÃÄ°N ÃZEL Ä°ÅLEM
                    if (userSelection.product === 'DÄ°ÄERLERÄ°') {
                        showScreen('screen-other-category');
                    }
                });
            });

            // ÃlÃ§Ã¼ inputlarÄ±
            document.getElementById('input-width').addEventListener('input', function() {
                userSelection.dimensions.width = this.value;
                checkNextButton('next-dimensions');
            });

            document.getElementById('input-height').addEventListener('input', function() {
                userSelection.dimensions.height = this.value;
                checkNextButton('next-dimensions');
            });

            document.getElementById('input-depth').addEventListener('input', function() {
                userSelection.dimensions.depth = this.value;
                checkNextButton('next-dimensions');
            });

            // KapÄ± Ã¶lÃ§Ã¼leri
            document.getElementById('input-door-width').addEventListener('input', function() {
                userSelection.doorWidth = this.value;
                checkNextButton('next-door-dimensions');
            });

            document.getElementById('input-door-height').addEventListener('input', function() {
                userSelection.doorHeight = this.value;
                checkNextButton('next-door-dimensions');
            });

            // Panel Ã¶lÃ§Ã¼leri
            document.getElementById('input-panel-width').addEventListener('input', function() {
                userSelection.panelWidth = this.value;
                checkNextButton('next-panel-dimensions');
            });

            document.getElementById('input-panel-height').addEventListener('input', function() {
                userSelection.panelHeight = this.value;
                checkNextButton('next-panel-dimensions');
            });

            // DiÄerleri aÃ§Ä±klama
            document.getElementById('input-other-desc').addEventListener('input', function() {
                userSelection.otherDescription = this.value;
                document.getElementById('next-other-category').disabled = !this.value;
            });

            // KapÄ± adedi
            document.getElementById('input-door-count').addEventListener('input', function() {
                userSelection.doorCount = this.value;
                document.getElementById('next-door-count').disabled = !this.value;
            });

            // Panel adedi
            document.getElementById('input-panel-count').addEventListener('input', function() {
                userSelection.panelCount = this.value;
                document.getElementById('next-panel-count').disabled = !this.value;
            });

            // MUTFAK ALETLERÄ° - BUTONU AKTÄ°F ET
            document.querySelectorAll('#screen-kitchen-appliances input[type="checkbox"]').forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    const appliance = this.dataset.appliance;
                    if (this.checked) {
                        if (!userSelection.kitchenAppliances.includes(appliance)) {
                            userSelection.kitchenAppliances.push(appliance);
                        }
                    } else {
                        userSelection.kitchenAppliances = userSelection.kitchenAppliances.filter(item => item !== appliance);
                    }
                    // BUTONU AKTÄ°F ET
                    document.getElementById('next-kitchen-appliances').disabled = false;
                });
            });

            // DÄ°ÄER BÄ°LGÄ°LER - BUTONU HER ZAMAN AKTÄ°F
            document.getElementById('input-notes').addEventListener('input', function() {
                userSelection.notes = this.value;
                document.getElementById('next-other-info').disabled = false;
            });

            // Sayfa yÃ¼klendiÄinde diÄer bilgiler butonunu aktif et
            document.getElementById('next-other-info').disabled = false;

            // KÄ°ÅÄ°SEL BÄ°LGÄ°LER - BUTONU HER ZAMAN AKTÄ°F
            document.getElementById('input-name').addEventListener('input', function() {
                userSelection.name = this.value;
                document.getElementById('next-personal').disabled = false;
            });

            document.getElementById('input-phone').addEventListener('input', function() {
                userSelection.phone = this.value;
                document.getElementById('next-personal').disabled = false;
            });

            document.getElementById('input-address').addEventListener('input', function() {
                userSelection.address = this.value;
                document.getElementById('next-personal').disabled = false;
            });

            // Sayfa yÃ¼klendiÄinde kiÅisel bilgiler butonunu aktif et
            document.getElementById('next-personal').disabled = false;

            // GÃ¶vde malzemesi
            document.querySelectorAll('#screen-body .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-body .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.body = this.dataset.body;
                    document.getElementById('next-body').disabled = false;
                });
            });

            // YÃ¼zey dokusu
            document.querySelectorAll('#screen-texture .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-texture .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.texture = this.dataset.texture;
                    document.getElementById('next-texture').disabled = false;
                });
            });

            // Mobilya kapak sayÄ±sÄ±
            document.getElementById('input-mobilya-covers').addEventListener('input', function() {
                userSelection.mobilyaCovers = this.value;
                document.getElementById('next-mobilya-covers').disabled = !this.value;
            });

            // Kapak malzemesi
            document.querySelectorAll('#screen-covers .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-covers .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.cover = this.dataset.cover;
                    document.getElementById('next-covers').disabled = false;
                });
            });

            // AlÃ¼minyum kapak sayÄ±sÄ±
            document.getElementById('input-aluminum-count').addEventListener('input', function() {
                userSelection.aluminumCount = this.value;
                document.getElementById('next-aluminum-count').disabled = !this.value;
            });

            // AlÃ¼minyum renk
            document.querySelectorAll('#screen-aluminum-color .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-aluminum-color .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.aluminumColor = this.dataset.color;
                    document.getElementById('next-aluminum-color').disabled = false;
                });
            });

            // Ãekmece ve raf sayÄ±larÄ±
            document.getElementById('input-drawers').addEventListener('input', function() {
                userSelection.drawers = this.value;
                document.getElementById('next-counts').disabled = false;
            });

            document.getElementById('input-shelves-count').addEventListener('input', function() {
                userSelection.shelvesCount = this.value;
                document.getElementById('next-counts').disabled = false;
            });

            // KapÄ± tipi
            document.querySelectorAll('#screen-door-type .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-door-type .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.doorType = this.dataset.doorType;
                    document.getElementById('next-door-type').disabled = false;
                });
            });

            // KapÄ± cam durumu
            document.querySelectorAll('#screen-door-glass .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-door-glass .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.doorGlass = this.dataset.doorGlass;
                    document.getElementById('next-door-glass').disabled = false;
                });
            });

            // KapÄ± pervaz
            document.querySelectorAll('#screen-door-trim .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-door-trim .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.doorTrim = this.dataset.doorTrim;
                    document.getElementById('next-door-trim').disabled = false;
                });
            });

            // Panel gÃ¶vde malzemesi
            document.querySelectorAll('#screen-panel-body .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-panel-body .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.panelBody = this.dataset.panelBody;
                    document.getElementById('next-panel-body').disabled = false;
                });
            });

            // Panel yÃ¼zey dokusu
            document.querySelectorAll('#screen-panel-texture .option-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    document.querySelectorAll('#screen-panel-texture .option-btn').forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.panelTexture = this.dataset.panelTexture;
                    document.getElementById('next-panel-texture').disabled = false;
                });
            });

            // Aksesuarlar
            document.querySelectorAll('#screen-accessories [data-drawer-system]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    const groupButtons = group.querySelectorAll('.option-btn');
                    groupButtons.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.drawerSystem = this.dataset.drawerSystem;
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            document.querySelectorAll('#screen-accessories [data-drawer-type]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    const groupButtons = group.querySelectorAll('.option-btn');
                    groupButtons.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.drawerType = this.dataset.drawerType;
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            document.querySelectorAll('#screen-accessories [data-lighting]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    const groupButtons = group.querySelectorAll('.option-btn');
                    groupButtons.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.lighting = this.dataset.lighting;
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            document.querySelectorAll('#screen-accessories [data-glass]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    const groupButtons = group.querySelectorAll('.option-btn');
                    groupButtons.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.glass = this.dataset.glass;
                    toggleGlassOptions();
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            document.querySelectorAll('#screen-accessories [data-glass-thickness]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    const groupButtons = group.querySelectorAll('.option-btn');
                    groupButtons.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.glassThickness = this.dataset.glassThickness;
                    document.getElementById('glass-surface-container').style.display = 'block';
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            document.querySelectorAll('#screen-accessories [data-glass-surface]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    const groupButtons = group.querySelectorAll('.option-btn');
                    groupButtons.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.glassSurface = this.dataset.glassSurface;
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            document.querySelectorAll('#screen-accessories [data-mirror]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    const groupButtons = group.querySelectorAll('.option-btn');
                    groupButtons.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.mirror = this.dataset.mirror;
                    toggleMirrorOptions();
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            document.querySelectorAll('#screen-accessories [data-mirror-type]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    const groupButtons = group.querySelectorAll('.option-btn');
                    groupButtons.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.mirrorType = this.dataset.mirrorType;
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            document.querySelectorAll('#screen-accessories [data-fabric]').forEach(btn => {
                btn.addEventListener('click', function() {
                    const group = this.parentElement;
                    const groupButtons = group.querySelectorAll('.option-btn');
                    groupButtons.forEach(b => b.classList.remove('selected'));
                    this.classList.add('selected');
                    userSelection.fabric = this.dataset.fabric;
                    document.getElementById('next-accessories').disabled = false;
                });
            });

            // NEXT BUTONLARI
            document.getElementById('next-product').addEventListener('click', function() {
                if (currentFlow.length > 0 && userSelection.product !== 'DÄ°ÄERLERÄ°') {
                    showScreen(currentFlow[0]);
                }
            });

            document.getElementById('next-dimensions').addEventListener('click', function() {
                if (userSelection.product === 'MUTFAK DOLABI') {
                    showScreen('screen-kitchen-appliances');
                } else {
                    showScreen('screen-body');
                }
            });

            document.getElementById('next-kitchen-appliances').addEventListener('click', function() {
                showScreen('screen-body');
            });

            document.getElementById('next-body').addEventListener('click', function() {
                showScreen('screen-texture');
            });

            document.getElementById('next-texture').addEventListener('click', function() {
                showScreen('screen-cover-type');
            });

            document.getElementById('next-cover-type').addEventListener('click', function() {
                showScreen('screen-mobilya-covers');
            });

            document.getElementById('next-mobilya-covers').addEventListener('click', function() {
                const mobilyaCovers = parseInt(userSelection.mobilyaCovers) || 0;
                if (mobilyaCovers > 0) {
                    showScreen('screen-covers');
                } else {
                    showScreen('screen-aluminum-count');
                }
            });

            document.getElementById('next-covers').addEventListener('click', function() {
                showScreen('screen-cover-texture');
            });

            document.getElementById('next-cover-texture').addEventListener('click', function() {
                showScreen('screen-cover-type2');
            });

            document.getElementById('next-cover-type2').addEventListener('click', function() {
                showScreen('screen-aluminum-count');
            });

            document.getElementById('next-aluminum-count').addEventListener('click', function() {
                const aluminumCount = parseInt(userSelection.aluminumCount) || 0;
                if (aluminumCount > 0) {
                    showScreen('screen-aluminum-color');
                } else {
                    checkCoversAndContinue();
                }
            });

            document.getElementById('next-aluminum-color').addEventListener('click', function() {
                showScreen('screen-aluminum-pattern');
            });

            document.getElementById('next-aluminum-pattern').addEventListener('click', function() {
                checkCoversAndContinue();
            });

            document.getElementById('next-counts').addEventListener('click', function() {
                showScreen('screen-accessories');
            });

            document.getElementById('next-accessories').addEventListener('click', function() {
                showScreen('screen-other-info');
            });

            document.getElementById('next-other-info').addEventListener('click', function() {
                showScreen('screen-personal');
            });

            // KiÅisel bilgiler next butonu
            document.getElementById('next-personal').addEventListener('click', function() {
                prepareSummary();
            });

            // DiÄerleri kategorisi next butonu
            document.getElementById('next-other-category').addEventListener('click', function() {
                showScreen('screen-other-info');
            });

            // Oda KapÄ±larÄ± next butonlarÄ±
            document.getElementById('next-door-dimensions').addEventListener('click', function() {
                showScreen('screen-door-type');
            });

            document.getElementById('next-door-type').addEventListener('click', function() {
                showScreen('screen-door-glass');
            });

            document.getElementById('next-door-glass').addEventListener('click', function() {
                showScreen('screen-door-trim');
            });

            document.getElementById('next-door-trim').addEventListener('click', function() {
                showScreen('screen-door-count');
            });

            document.getElementById('next-door-count').addEventListener('click', function() {
                showScreen('screen-other-info');
            });

            // Duvar Paneli next butonlarÄ±
            document.getElementById('next-panel-dimensions').addEventListener('click', function() {
                showScreen('screen-panel-body');
            });

            document.getElementById('next-panel-body').addEventListener('click', function() {
                showScreen('screen-panel-texture');
            });

            document.getElementById('next-panel-texture').addEventListener('click', function() {
                showScreen('screen-panel-cover-type');
            });

            document.getElementById('next-panel-cover-type').addEventListener('click', function() {
                showScreen('screen-panel-count');
            });

            document.getElementById('next-panel-count').addEventListener('click', function() {
                showScreen('screen-other-info');
            });

            // Geri butonlarÄ±
            document.getElementById('back-body').addEventListener('click', function() {
                if (userSelection.product === 'MUTFAK DOLABI') {
                    showScreen('screen-kitchen-appliances');
                } else {
                    showScreen('screen-dimensions');
                }
            });

            document.getElementById('back-aluminum-count').addEventListener('click', function() {
                const mobilyaCovers = parseInt(userSelection.mobilyaCovers) || 0;
                if (mobilyaCovers > 0) {
                    showScreen('screen-cover-type2');
                } else {
                    showScreen('screen-mobilya-covers');
                }
            });
        });

        // YARDIMCI FONKSÄ°YONLAR
        function checkNextButton(buttonId) {
            let isValid = false;
            
            if (buttonId === 'next-dimensions') {
                isValid = userSelection.dimensions.width && userSelection.dimensions.height && userSelection.dimensions.depth;
            } else if (buttonId === 'next-door-dimensions') {
                isValid = userSelection.doorWidth && userSelection.doorHeight;
            } else if (buttonId === 'next-panel-dimensions') {
                isValid = userSelection.panelWidth && userSelection.panelHeight;
            }
            
            document.getElementById(buttonId).disabled = !isValid;
        }

        // WhatsApp gÃ¶nderme fonksiyonu - DÃZELTÄ°LDÄ°
        function sendToWhatsApp() {
            const priceRange = calculatePriceRange();
            
            let message = `Merhaba, fiyat teklifi almak istiyorum:\n\n`;
            message += `*ÃrÃ¼n:* ${userSelection.product}\n`;
            
            if (mevcutUrunler.includes(userSelection.product)) {
                message += `*ÃlÃ§Ã¼ler:* ${userSelection.dimensions.width}x${userSelection.dimensions.height}x${userSelection.dimensions.depth} cm\n`;
                
                if (userSelection.product === 'MUTFAK DOLABI' && userSelection.kitchenAppliances.length > 0) {
                    message += `*Mutfak CihazlarÄ±:* ${userSelection.kitchenAppliances.join(', ')}\n`;
                }
                
                if (userSelection.body) {
                    message += `*GÃ¶vde Malzemesi:* ${userSelection.body}\n`;
                    message += `*YÃ¼zey Dokusu:* ${userSelection.texture}\n`;
                    if (userSelection.coverType) {
                        message += `*GÃ¶vde YÃ¼zey Deseni:* ${userSelection.coverType}\n`;
                    }
                }
                
                const mobilyaCovers = parseInt(userSelection.mobilyaCovers) || 0;
                if (mobilyaCovers > 0) {
                    message += `*Mobilya Kapak:* ${mobilyaCovers} adet\n`;
                    if (userSelection.cover) {
                        message += `*Kapak Malzemesi:* ${userSelection.cover}\n`;
                    }
                    if (userSelection.coverTexture) {
                        message += `*YÃ¼zey Dokusu:* ${userSelection.coverTexture}\n`;
                    }
                    if (userSelection.coverType2) {
                        message += `*Kapak YÃ¼zey Deseni:* ${userSelection.coverType2}\n`;
                    }
                }
                
                const aluminumCount = parseInt(userSelection.aluminumCount) || 0;
                if (aluminumCount > 0) {
                    message += `*AlÃ¼minyum Kapak:* ${aluminumCount} adet\n`;
                    if (userSelection.aluminumColor) {
                        message += `*AlÃ¼minyum Renk:* ${userSelection.aluminumColor}\n`;
                    }
                    if (userSelection.aluminumPattern) {
                        message += `*AlÃ¼minyum Desen:* ${userSelection.aluminumPattern}\n`;
                    }
                }
                
                const totalCovers = mobilyaCovers + aluminumCount;
                message += `*Toplam Kapak:* ${totalCovers} adet\n`;
                
                if (userSelection.drawers || userSelection.shelvesCount) {
                    message += `*Ãekmece SayÄ±sÄ±:* ${userSelection.drawers || '0'}\n`;
                    message += `*Raf SayÄ±sÄ±:* ${userSelection.shelvesCount || '0'}\n`;
                }
                
                if (userSelection.drawerSystem) {
                    message += `*Ãekmece Sistemi:* ${userSelection.drawerSystem}\n`;
                }
                if (userSelection.drawerType) {
                    message += `*Ãekmece Tipi:* ${userSelection.drawerType}\n`;
                }
                if (userSelection.lighting) {
                    message += `*AydÄ±nlatma:* ${userSelection.lighting}\n`;
                }
                if (userSelection.glass) {
                    message += `*Cam:* ${userSelection.glass}\n`;
                }
                if (userSelection.glassThickness) {
                    message += `*Cam KalÄ±nlÄ±ÄÄ±:* ${userSelection.glassThickness}\n`;
                }
                if (userSelection.glassSurface) {
                    message += `*Cam YÃ¼zeyi:* ${userSelection.glassSurface}\n`;
                }
                if (userSelection.mirror) {
                    message += `*Ayna:* ${userSelection.mirror}\n`;
                }
                if (userSelection.mirrorType) {
                    message += `*Ayna Tipi:* ${userSelection.mirrorType}\n`;
                }
                if (userSelection.fabric) {
                    message += `*KumaÅ:* ${userSelection.fabric}\n`;
                }
            } else if (userSelection.product === 'ODA KAPILARI') {
                message += `*KapÄ± ÃlÃ§Ã¼leri:* ${userSelection.doorWidth}x${userSelection.doorHeight} cm\n`;
                message += `*KapÄ± Tipi:* ${userSelection.doorType}\n`;
                message += `*Cam Durumu:* ${userSelection.doorGlass}\n`;
                message += `*Pervaz:* ${userSelection.doorTrim}\n`;
                message += `*KapÄ± Adedi:* ${userSelection.doorCount}\n`;
            } else if (userSelection.product === 'DUVAR PANELÄ°') {
                message += `*Panel ÃlÃ§Ã¼leri:* ${userSelection.panelWidth}x${userSelection.panelHeight} cm\n`;
                message += `*GÃ¶vde Malzemesi:* ${userSelection.panelBody}\n`;
                message += `*YÃ¼zey Dokusu:* ${userSelection.panelTexture}\n`;
                if (userSelection.panelCoverType) {
                    message += `*YÃ¼zey Deseni:* ${userSelection.panelCoverType}\n`;
                }
                message += `*Panel Adedi:* ${userSelection.panelCount}\n`;
            } else if (userSelection.product === 'DÄ°ÄERLERÄ°') {
                message += `*AÃ§Ä±klama:* ${userSelection.otherDescription}\n`;
            }
            
            if (userSelection.notes) {
                message += `*Ãzel Notlar:* ${userSelection.notes}\n`;
            }
            
            message += `*Tahmini Fiyat AralÄ±ÄÄ±:* ${priceRange.display}\n`;
            message += `*Ad Soyad:* ${userSelection.name}\n`;
            message += `*Telefon:* ${userSelection.phone}\n`;
            message += `*Adres:* ${userSelection.address}\n`;
            
            message += `\n\n_BU YALNIZCA ÃN FÄ°YATLANDIRMA VE SÄ°ZE ÃZEL. DETAYLI PROJELENDÄ°RME Ä°ÃÄ°N MÄ°MARIMIZ EN KISA SÃREDE GERÄ° DÃNÃÅ SAÄLAYACAKTIR._\n\n`;
            message += `_SÄ°ZE ÃZEL BU TALEP, USTA AI AKILLI FÄ°YATLANDIRMA SÄ°STEM TEKNOLOJÄ°SÄ°YLE OTOMATÄ°K OLARAK HAZIRLANDI_`;
            
            const encodedMessage = encodeURIComponent(message);
            const phoneNumber = "905541662246"; // Bu numarayÄ± gerÃ§ek numaranÄ±zla deÄiÅtirin
            const whatsappUrl = `https://api.whatsapp.com/send?phone=${phoneNumber}&text=${encodedMessage}`;
            window.open(whatsappUrl, '_blank');
        }
    </script>
</body>
</html>